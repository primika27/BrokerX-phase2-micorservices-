ADR005 – Gateway unique pour routage

Statut : Acceptée
Date : 2025-10-28
Fichier : /docs/adr/adr005.md

Contexte:

Avec l'adoption d'une architecture microservices, chaque service expose ses propres endpoints. Un point d'entrée central est nécessaire pour simplifier l’accès côté client, appliquer la sécurité, et centraliser la gestion du routage.

Décision:

Utiliser Spring Cloud Gateway comme passerelle unique. Elle est exposée en front via NGINX et route les requêtes entrantes vers les microservices concernés (/api/auth/**, /api/clients/**, /api/orders/**, etc.). Elle permet également la gestion des CORS, des timeouts, des filtres de logs ou de sécurité.

Conséquences:

Un point unique de configuration pour le routage

Simplifie les appels depuis le frontend React

Introduit un Single Point of Failure (SPoF) s’il n’est pas répliqué

Peut devenir un bottleneck sous forte charge sans mise à l’échelle

Alternatives considérées:

Appels directs du frontend vers les microservices (nécessite gestion CORS + complexifie le frontend)

Service Mesh (ex : Istio, trop lourd pour le contexte académique)